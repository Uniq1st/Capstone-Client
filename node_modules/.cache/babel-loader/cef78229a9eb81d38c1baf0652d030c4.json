{"ast":null,"code":"import React, { Component } from \"react\";\nconst base_url = \"https://api.jikan.moe/v3\";\n\nclass JikanApi extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n}\n\nfunction searchAnime(event) {\n  const base_url = \"https://api.jikan.moe/v3\";\n  event.preventDefault();\n  const form = new FormData(this);\n  const query = form.get(\"search\");\n  fetch(`${base_url}/search/anime?q=${query}&page=1`).then(res => res.json()).then(updateDom).catch(err => console.warn(err.message));\n}\n\nfunction updateDom(data) {\n  const searchResults = document.getElementById('search-results');\n  const animeByCategories = data.results.reduce((acc, anime) => {\n    const {\n      type\n    } = anime;\n    if (acc[type] === undefined) acc[type] = [];\n    acc[type].push(anime);\n    return acc;\n  }, {});\n  searchResults.innerHTML = Object.keys(animeByCategories).map(key => {\n    const animesHTML = animeByCategories[key].sort((a, b) => a.episodes - b.episodes).map(anime => {\n      return `\n                    <div class=\"card\">\n                        <div class=\"card-image\">\n                            <img src=\"${anime.image_url}\">\n                        </div>\n                        <div class=\"card-content\">\n                            <span class=\"card-title\">${anime.title}</span>\n                            <p>${anime.synopsis}</p>\n                        </div>\n                        <div class=\"card-action\">\n                            <a href=\"${anime.url}\">Find out more</a>\n                        </div>\n                    </div>\n                `;\n    }).join(\"\");\n    return `\n                <section>\n                    <h3>${key.toUpperCase()}</h3>\n                    <div class=\"kemicofa-row\">${animesHTML}</div>\n                </section>\n            `;\n  }).join(\"\");\n}\n\nexport default JikanApi;","map":{"version":3,"sources":["/Users/haz234/Desktop/capstone-client/src/Component/JikanApi.js"],"names":["React","Component","base_url","JikanApi","constructor","props","searchAnime","event","preventDefault","form","FormData","query","get","fetch","then","res","json","updateDom","catch","err","console","warn","message","data","searchResults","document","getElementById","animeByCategories","results","reduce","acc","anime","type","undefined","push","innerHTML","Object","keys","map","key","animesHTML","sort","a","b","episodes","image_url","title","synopsis","url","join","toUpperCase"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,MAAMC,QAAQ,GAAG,0BAAjB;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAgC;AAC/BG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AAEH;;AAJ8B;;AAOhC,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AACvB,QAAML,QAAQ,GAAG,0BAAjB;AAEAK,EAAAA,KAAK,CAACC,cAAN;AAEA,QAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAa,IAAb,CAAb;AACA,QAAMC,KAAK,GAAGF,IAAI,CAACG,GAAL,CAAS,QAAT,CAAd;AAEAC,EAAAA,KAAK,CAAE,GAAEX,QAAS,mBAAkBS,KAAM,SAArC,CAAL,CACCG,IADD,CACMC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EADX,EAECF,IAFD,CAEMG,SAFN,EAGCC,KAHD,CAGOC,GAAG,IAAEC,OAAO,CAACC,IAAR,CAAaF,GAAG,CAACG,OAAjB,CAHZ;AAIH;;AACD,SAASL,SAAT,CAAmBM,IAAnB,EAAwB;AACpB,QAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAtB;AAEA,QAAMC,iBAAiB,GAAGJ,IAAI,CAACK,OAAL,CACrBC,MADqB,CACd,CAACC,GAAD,EAAMC,KAAN,KAAc;AAElB,UAAM;AAACC,MAAAA;AAAD,QAASD,KAAf;AACA,QAAGD,GAAG,CAACE,IAAD,CAAH,KAAcC,SAAjB,EAA4BH,GAAG,CAACE,IAAD,CAAH,GAAY,EAAZ;AAC5BF,IAAAA,GAAG,CAACE,IAAD,CAAH,CAAUE,IAAV,CAAeH,KAAf;AACA,WAAOD,GAAP;AAEH,GARqB,EAQnB,EARmB,CAA1B;AAUIN,EAAAA,aAAa,CAACW,SAAd,GAA0BC,MAAM,CAACC,IAAP,CAAYV,iBAAZ,EAA+BW,GAA/B,CAAmCC,GAAG,IAAE;AAE9D,UAAMC,UAAU,GAAGb,iBAAiB,CAACY,GAAD,CAAjB,CAClBE,IADkB,CACb,CAACC,CAAD,EAAGC,CAAH,KAAOD,CAAC,CAACE,QAAF,GAAWD,CAAC,CAACC,QADP,EAElBN,GAFkB,CAEdP,KAAK,IAAE;AACR,aAAQ;;;wCAGgBA,KAAK,CAACc,SAAU;;;uDAGDd,KAAK,CAACe,KAAM;iCAClCf,KAAK,CAACgB,QAAS;;;uCAGThB,KAAK,CAACiB,GAAI;;;iBAVjC;AAcH,KAjBkB,EAiBhBC,IAjBgB,CAiBX,EAjBW,CAAnB;AAoBA,WAAQ;;0BAEMV,GAAG,CAACW,WAAJ,EAAkB;gDACIV,UAAW;;aAH/C;AAMH,GA5ByB,EA4BvBS,IA5BuB,CA4BlB,EA5BkB,CAA1B;AA6BP;;AAED,eAAe9C,QAAf","sourcesContent":["import React, {Component} from \"react\";\n\nconst base_url = \"https://api.jikan.moe/v3\";\n\nclass JikanApi extends Component{\n constructor(props){\n     super(props);\n     \n }\n\n}\nfunction searchAnime(event){\n    const base_url = \"https://api.jikan.moe/v3\";\n\n    event.preventDefault();\n\n    const form = new FormData(this);\n    const query = form.get(\"search\");\n\n    fetch(`${base_url}/search/anime?q=${query}&page=1`)\n    .then(res=>res.json())\n    .then(updateDom)\n    .catch(err=>console.warn(err.message));\n}\nfunction updateDom(data){\n    const searchResults = document.getElementById('search-results');\n\n    const animeByCategories = data.results\n        .reduce((acc, anime)=>{\n\n            const {type} = anime;\n            if(acc[type] === undefined) acc[type] = [];\n            acc[type].push(anime);\n            return acc;\n\n        }, {});\n\n        searchResults.innerHTML = Object.keys(animeByCategories).map(key=>{\n\n            const animesHTML = animeByCategories[key]\n            .sort((a,b)=>a.episodes-b.episodes)\n            .map(anime=>{\n                return `\n                    <div class=\"card\">\n                        <div class=\"card-image\">\n                            <img src=\"${anime.image_url}\">\n                        </div>\n                        <div class=\"card-content\">\n                            <span class=\"card-title\">${anime.title}</span>\n                            <p>${anime.synopsis}</p>\n                        </div>\n                        <div class=\"card-action\">\n                            <a href=\"${anime.url}\">Find out more</a>\n                        </div>\n                    </div>\n                `\n            }).join(\"\");\n\n\n            return `\n                <section>\n                    <h3>${key.toUpperCase()}</h3>\n                    <div class=\"kemicofa-row\">${animesHTML}</div>\n                </section>\n            `\n        }).join(\"\");\n}\n\nexport default JikanApi;"]},"metadata":{},"sourceType":"module"}